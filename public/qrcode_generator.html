<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <title>WirVsVirusHack</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>

<div class="hint">
    <a href="qrcode_reader.html">QR Code auslesen</a> | QR Code erstellen - Diese Seite kann z.b. von LKW Fahrern genutzt werden um QR-Codes zu generieren
</div>

<div class="py-5 text-center">
    <img class="d-block mx-auto mb-4" src="/docs/4.4/assets/brand/bootstrap-solid.svg" alt="" width="72" height="72">
    <h1>Bescheinigung für Warenverkehr</h1>
    <p class="lead">
        Hiermit wird bescheinigt, dass die aufgeführte Person für den Warenverkehr relevant die Grenze übertritt.
    </p>
</div>


<div class="container">
    <div class="row">
        <div class="col-md-8 order-md-1">
            <form id="qrform">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <h4>Ihre Daten</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="self_firstname">Vorname</label>
                        <input type="text" class="form-control" id="self_firstname" placeholder="" value="">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="self_lastname">Nachname</label>
                        <input type="text" class="form-control" id="self_lastname" placeholder="" value="">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="self_state">Staat</label>
                        <input type="text" class="form-control" id="self_state" placeholder="" value="">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="self_state">PLZ</label>
                        <input type="text" class="form-control" id="self_plz" placeholder="" value="">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="self_state">Ort</label>
                        <input type="text" class="form-control" id="self_ort" placeholder="" value="">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="self_state">Staatsangehörigkeit</label>
                        <input type="text" class="form-control" id="self_nationality" placeholder="" value="">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <h4>Daten Ihrer Arbeitsstätte</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label for="work_company">Firmenbezeichnung</label>
                        <input type="text" class="form-control" id="work_company" placeholder="" value="">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="work_state">Staat</label>
                        <input type="text" class="form-control" id="work_state" placeholder="" value="">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="work_plz">PLZ</label>
                        <input type="text" class="form-control" id="work_plz" placeholder="" value="">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="work_ort">Ort</label>
                        <input type="text" class="form-control" id="work_ort" placeholder="" value="">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <input id="generate_qr_code" type="button" class="btn btn-primary" value="QR-Code generieren">
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div id="qrcode">

    </div>
</div>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script type="text/javascript">
    (function ($) {
        $.fn.serializeFormJSON = function () {

            var o = {};
            var a = this.serializeArray();
            $.each(a, function () {
                if (o[this.name]) {
                    if (!o[this.name].push) {
                        o[this.name] = [o[this.name]];
                    }
                    o[this.name].push(this.value || '');
                } else {
                    o[this.name] = this.value || '';
                }
            });
            return o;
        };
    })(jQuery);
</script>
<script>

    $(document).ready(function () {

        $('#generate_qr_code').on("click", function () {
            $('#qrcode canvas').remove();


            var items = {};
            $('#qrform input').each(function(i, v) {
                if (jQuery(v).val() == "") {
                    return;
                }
                items[jQuery(v).attr('id')] = jQuery(v).val();
            });

            $('#qrcode').qrcode(JSON.stringify(items));
        });
    });

</script>
</body>
</html>